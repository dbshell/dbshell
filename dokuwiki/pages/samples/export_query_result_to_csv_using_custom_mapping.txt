====== Export query result to CSV using custom mapping ======
Exports result of query into CSV file with custom column mapping. 

<code xml>
<?xml version="1.0" encoding="utf-8" ?>
<CopyTable 
  xmlns="http://schemas.dbshell.com/core"
>
  <!-- define target CSV file -->
  <CopyTable.Target>
    <CsvFile Name="AlbumComplex.csv" Delimiter=';'/>
  </CopyTable.Target>
  
  <!-- define source data - SQL query -->
  <CopyTable.Source>
    <Query>
      select Album.Title as Album, Artist.Name as Artist, Artist.ArtistId, Album.AlbumId
      from Album
      inner join Artist on Album.ArtistId = Artist.ArtistId
    </Query>
  </CopyTable.Source>
  
  <!-- define custom column mapping -->
  <CopyTable.ColumnMap>
    <MapValue Value="${AlbumId}-${ArtistId}" Name="ID" /> 
    <MapColumn Name='Artist' /> 
    <MapColumn Name='Album' /> 
  </CopyTable.ColumnMap>
</CopyTable>
</code>

Result CSV file will look like:
<code>
ID;Artist;Album
1-1;Blind Guardian;Forgotten Tales
</code>

''${AlbumId}'' is replaced with value of AlbumId column of result set.